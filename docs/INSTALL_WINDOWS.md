# ุฑุงูููุง ูุตุจ ู ุฑุงูโุงูุฏุงุฒ Kiosk ุฑู ููุฏูุฒ

ุงู ุฑุงูููุง ูุญูู ูุตุจ ู ุฑุงูโุงูุฏุงุฒ ูุงู EXE ูพุฑูฺู Kiosk ุฑู ููุฏูุฒ ุฑุง ุชูุถุญ ูโุฏูุฏ.

## ูพุดโูุงุฒูุง

### 1. ูุฑูโุงูุฒุงุฑูุง ููุฑุฏ ูุงุฒ

#### Python Runtime (ุงุฎุชุงุฑ - ููุท ุจุฑุง DLL Gateway)
ุงฺฏุฑ ุงุฒ ฺฉุงุฑุชโุฎูุงู ุจุง DLL ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุงุฒ ุจู ฺฉ ุงุฒ ููุงุฑุฏ ุฒุฑ ุฏุงุฑุฏ:
- **.NET Framework 4.7.2 ุง ุจุงูุงุชุฑ** (ุจุฑุง pythonnet)
- ุง **Mono Runtime** (ุจุฑุง Linux/Mac compatibility)

**ูฺฉุชู:** ุจุฑุง ุงฺฉุซุฑ ููุงุฑุฏุ EXE ุจู ุชููุง ฺฉุงู ุงุณุช ู ูุงุฒ ุจู ูุตุจ Python ูุณุช.

#### Visual C++ Redistributable (ููฺฉู ุงุณุช ูุงุฒู ุจุงุดุฏ)
- **Visual C++ Redistributable 2015-2022**
- ุฏุงูููุฏ ุงุฒ: https://aka.ms/vs/17/release/vc_redist.x64.exe

### 2. ุฏุณุชุฑุณโูุง ุณุณุชู

- ุฏุณุชุฑุณ **Administrator** ุจุฑุง ุงุฌุฑุง ุณุฑูุฑ ุฑู ูพูุฑุช 80 (ุงุฎุชุงุฑ)
- ุฏุณุชุฑุณ ุจู **ุดุจฺฉู ูุญู** (ุจุฑุง ุงุชุตุงู ุจู ฺฉุงุฑุชโุฎูุงู ู ูพุฑูุชุฑ)
- **Firewall** ุจุงุฏ ูพูุฑุช 8000 (ุง ูพูุฑุช ุงูุชุฎุงุจ) ุฑุง ุงุฌุงุฒู ุฏูุฏ

## ูุฑุงุญู ูุตุจ

### ูุฑุญูู 1: ฺฉูพ ฺฉุฑุฏู ูุงูโูุง

1. ููุท ูุงู `kiosk.exe` ุฑุง ุงุฒ ูพูุดู `dist` ฺฉูพ ฺฉูุฏ
2. ุขู ุฑุง ุฏุฑ ฺฉ ูฺฉุงู ููุงุณุจ ูุฑุงุฑ ุฏูุฏ (ูุซูุงู `C:\Kiosk` ุง `D:\Kiosk`)

**ูฺฉุชู:** ูุงูโูุง `staticfiles` ุฏุงุฎู EXE ูุณุชูุฏ ู ูุงุฒ ุจู ฺฉูพ ฺฉุฑุฏู ุฌุฏุงฺฏุงูู ูุณุช!

**ุณุงุฎุชุงุฑ ูพูุดู ุจุงุฏ ุจู ุงู ุตูุฑุช ุจุงุดุฏ:**
```
C:\Kiosk\
โโโ kiosk.exe              # ูุงู ุงุฌุฑุง ุงุตู (ุดุงูู staticfiles ุฏุงุฎูุด)
โโโ .env                   # ูุงู ุชูุธูุงุช (ุจุงุฏ ุงุฌุงุฏ ฺฉูุฏ)
โโโ pna.pcpos.dll         # DLL ฺฉุงุฑุชโุฎูุงู (ุงฺฏุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ)
โโโ (ูพูุดูโูุง ุฒุฑ ุฎูุฏฺฉุงุฑ ุงุฌุงุฏ ูโุดููุฏ)
    โโโ media\            # ูพูุดู media
    โโโ logs\             # ูพูุดู ูุงฺฏโูุง
    โโโ db.sqlite3        # ุฏุชุงุจุณ
```

**ูฺฉุชู:** ูุงูโูุง `staticfiles` ุฏุงุฎู EXE ูุณุชูุฏ ู ูุงุฒ ุจู ฺฉูพ ฺฉุฑุฏู ุฌุฏุงฺฏุงูู ูุณุช!

### ูุฑุญูู 2: ุงุฌุงุฏ ูุงู .env

**ุจููุ ูุงู `.env` ุจุงุฏ ฺฉูุงุฑ `kiosk.exe` ุจุงุดุฏ!**

ฺฉ ูุงู ุจุง ูุงู `.env` ุฏุฑ ฺฉูุงุฑ `kiosk.exe` ุงุฌุงุฏ ฺฉูุฏ ู ูุญุชูุง ุฒุฑ ุฑุง ุฏุฑ ุขู ูุฑุงุฑ ุฏูุฏ:

```env
# =============================================================================
# KIOSK - ุชูุธูุงุช ูุญุท
# =============================================================================

# Django Core
SECRET_KEY=your-secret-key-here-change-this-in-production
DEBUG=False
ALLOWED_HOSTS=localhost,127.0.0.1,192.168.1.100

# Server Settings
SERVER_PORT=8000
SERVER_ADDR=127.0.0.1

# Store Settings
STORE_NAME=ูุฑูุดฺฏุงู ูู

# Payment Gateway
PAYMENT_GATEWAY_NAME=mock
PAYMENT_GATEWAY_MERCHANT_ID=
PAYMENT_GATEWAY_TERMINAL_ID=

# Mock Gateway (ููุท ุจุฑุง PAYMENT_GATEWAY_NAME=mock)
MOCK_PAYMENT_DELAY=3
MOCK_PAYMENT_SUCCESS=True

# POS Configuration (ููุท ุจุฑุง PAYMENT_GATEWAY_NAME=pos)
POS_TCP_HOST=192.168.1.100
POS_TCP_PORT=1362
POS_TIMEOUT=30

# Printer
PRINTER_ENABLED=False
PRINTER_IP=192.168.1.100
PRINTER_PORT=9100

# Frontend Build Directory (ุงุฎุชุงุฑ)
# FRONTEND_BUILD_DIR=../frontend/out
```

**ูฺฉุงุช ููู:**
- `SECRET_KEY` ุฑุง ุญุชูุงู ุชุบุฑ ุฏูุฏ!
- `ALLOWED_HOSTS` ุฑุง ุจุง IP ุง ูุงู ุฏุงููู ุณุณุชู ุฎูุฏ ุชูุธู ฺฉูุฏ
- `SERVER_PORT` ุฑุง ุฏุฑ ุตูุฑุช ูุงุฒ ุชุบุฑ ุฏูุฏ
- `STORE_NAME` ุฑุง ุจุง ูุงู ูุฑูุดฺฏุงู ุฎูุฏ ุชูุธู ฺฉูุฏ

### ูุฑุญูู 3: ุงุฌุฑุง ุงููู

1. ุฏูุจุงุฑ ฺฉูฺฉ ุฑู `kiosk.exe` ุง ุงุฒ Command Prompt ุงุฌุฑุง ฺฉูุฏ:
   ```cmd
   cd C:\Kiosk
   kiosk.exe
   ```

2. ุตุจุฑ ฺฉูุฏ ุชุง ุณุฑูุฑ ุฑุงูโุงูุฏุงุฒ ุดูุฏ (ฺูุฏ ุซุงูู ุทูู ูโฺฉุดุฏ)

3. ุฏุฑ Console ุจุงุฏ ูพุงู ุฒุฑ ุฑุง ุจุจูุฏ:
   ```
   Starting development server at http://127.0.0.1:8000/
   Quit the server with CTRL-BREAK.
   ```

4. ูุฑูุฑฺฏุฑ ุฑุง ุจุงุฒ ฺฉูุฏ ู ุจู ุขุฏุฑุณ `http://localhost:8000` ุจุฑูุฏ

### ูุฑุญูู 4: ุงุฌุงุฏ Superuser (ูุฏุฑ ุณุณุชู)

ุจุฑุง ุฏุณุชุฑุณ ุจู ูพูู ุงุฏููุ ุจุงุฏ ฺฉ ฺฉุงุฑุจุฑ ูุฏุฑ ุงุฌุงุฏ ฺฉูุฏ:

1. ฺฉ Command Prompt ุฌุฏุฏ ุจุงุฒ ฺฉูุฏ
2. ุจู ูพูุดู ูุตุจ ุจุฑูุฏ:
   ```cmd
   cd C:\Kiosk
   ```

3. ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:
   ```cmd
   kiosk.exe createsuperuser
   ```

4. ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:
   - Username
   - Email (ุงุฎุชุงุฑ)
   - Password

5. ุญุงูุง ูโุชูุงูุฏ ุจู `http://localhost:8000/admin` ุจุฑูุฏ ู ูุงุฑุฏ ุดูุฏ

## ุชูุธูุงุช ูพุดุฑูุชู

### ุงุฌุฑุง ุณุฑูุฑ ุฑู ูพูุฑุช 80

ุจุฑุง ุงุฌุฑุง ุณุฑูุฑ ุฑู ูพูุฑุช 80 (ุจุฏูู ูุงุฒ ุจู :8000 ุฏุฑ URL):

1. ุฏุฑ ูุงู `.env` ุชุบุฑ ุฏูุฏ:
   ```env
   SERVER_PORT=80
   ```

2. **ููู:** ุจุงุฏ ุจุง ุฏุณุชุฑุณ Administrator ุงุฌุฑุง ฺฉูุฏ:
   - ุฑุงุณุช ฺฉูฺฉ ุฑู `kiosk.exe`
   - ุงูุชุฎุงุจ "Run as administrator"

### ุงุฌุฑุง ุณุฑูุฑ ุฑู IP ุดุจฺฉู

ุจุฑุง ุฏุณุชุฑุณ ุงุฒ ุณุงุฑ ุฏุณุชฺฏุงูโูุง ุดุจฺฉู:

1. ุฏุฑ ูุงู `.env` ุชุบุฑ ุฏูุฏ:
   ```env
   SERVER_ADDR=0.0.0.0
   ALLOWED_HOSTS=localhost,127.0.0.1,192.168.1.100,192.168.1.50
   ```

2. `192.168.1.100` ุฑุง ุจุง IP ูุงูุน ุณุณุชู ุฎูุฏ ุฌุงฺฏุฒู ฺฉูุฏ

### ุงุฌุฑุง ุจู ุตูุฑุช ุณุฑูุณ ููุฏูุฒ

ุจุฑุง ุงุฌุฑุง ุฎูุฏฺฉุงุฑ ุฏุฑ Startup:

#### ุฑูุด 1: ุงุณุชูุงุฏู ุงุฒ Task Scheduler

1. `Win + R` ุฑุง ูุดุงุฑ ุฏูุฏ ู `taskschd.msc` ุฑุง ุชุงูพ ฺฉูุฏ
2. "Create Basic Task" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ูุงู: "Kiosk Server"
4. Trigger: "When the computer starts"
5. Action: "Start a program"
6. Program: ูุณุฑ ฺฉุงูู ุจู `kiosk.exe` (ูุซูุงู `C:\Kiosk\kiosk.exe`)
7. Start in: ูุณุฑ ูพูุดู (ูุซูุงู `C:\Kiosk`)

#### ุฑูุด 2: ุงุณุชูุงุฏู ุงุฒ NSSM (Non-Sucking Service Manager)

1. ุฏุงูููุฏ NSSM ุงุฒ: https://nssm.cc/download
2. ูุตุจ ู ุงุฌุฑุง:
   ```cmd
   nssm install KioskServer
   ```
3. ุชูุธูุงุช:
   - Path: `C:\Kiosk\kiosk.exe`
   - Startup directory: `C:\Kiosk`
   - Service name: `KioskServer`

## ุณุงุฎุชุงุฑ ูุงูโูุง ู ูพูุดูโูุง

### ูุงูโูุง ุถุฑูุฑ

- โ `kiosk.exe` - ูุงู ุงุฌุฑุง ุงุตู
- โ `.env` - ูุงู ุชูุธูุงุช (ุจุงุฏ ุงุฌุงุฏ ฺฉูุฏ)
- โ `staticfiles/` - ูุงูโูุง static ูุฑุงูุช
- โ `pna.pcpos.dll` - DLL ฺฉุงุฑุชโุฎูุงู (ุงฺฏุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ)

### ูพูุดูโูุง ุฎูุฏฺฉุงุฑ ุงุฌุงุฏ ุดุฏู

- ๐ `media/` - ูุงูโูุง ุขูพููุฏ ุดุฏู (ูุญุตููุงุชุ ุฑุณุฏูุงุ ฺฏุฒุงุฑุดโูุง)
- ๐ `logs/` - ูุงูโูุง ูุงฺฏ ุณุณุชู
- ๐ `db.sqlite3` - ุฏุชุงุจุณ SQLite (ุฎูุฏฺฉุงุฑ ุงุฌุงุฏ ูโุดูุฏ)

## ุนุจโุงุจ

### ูุดฺฉู: EXE ุงุฌุฑุง ููโุดูุฏ

**ุนูู ุงุญุชูุงู:**
1. Visual C++ Redistributable ูุตุจ ูุณุช
2. ูุงูโูุง ูุงุฒู ููุฌูุฏ ูุณุชูุฏ
3. ุฏุณุชุฑุณ ฺฉุงู ูุฏุงุฑุฏ

**ุฑุงู ุญู:**
- Visual C++ Redistributable ุฑุง ูุตุจ ฺฉูุฏ
- ูุทูุฆู ุดูุฏ ุชูุงู ูุงูโูุง `dist` ฺฉูพ ุดุฏูโุงูุฏ
- ุจุง ุฏุณุชุฑุณ Administrator ุงุฌุฑุง ฺฉูุฏ

### ูุดฺฉู: ุณุฑูุฑ ุดุฑูุน ููโุดูุฏ

**ุจุฑุฑุณ ฺฉูุฏ:**
1. ูพูุฑุช 8000 ุฏุฑ ุญุงู ุงุณุชูุงุฏู ูุณุช:
   ```cmd
   netstat -ano | findstr :8000
   ```
2. ูุงู `.env` ูุฌูุฏ ุฏุงุฑุฏ ู ุฏุฑุณุช ุชูุธู ุดุฏู ุงุณุช
3. ูุงฺฏโูุง ุฑุง ุฏุฑ ูพูุดู `logs/` ุจุฑุฑุณ ฺฉูุฏ

### ูุดฺฉู: ุฏุชุงุจุณ ฺฉุงุฑ ููโฺฉูุฏ

**ุฑุงู ุญู:**
1. ูุงู `db.sqlite3` ุฑุง ุญุฐู ฺฉูุฏ
2. EXE ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ
3. ุง ุงุฒ Command Prompt:
   ```cmd
   kiosk.exe migrate
   ```

### ูุดฺฉู: Static Files ููุงุด ุฏุงุฏู ููโุดููุฏ

**ุจุฑุฑุณ ฺฉูุฏ:**
1. ูพูุดู `staticfiles/` ุฏุฑ ฺฉูุงุฑ EXE ูุฌูุฏ ุฏุงุฑุฏ
2. ูุญุชูุงุช ุขู ฺฉุงูู ุงุณุช
3. ุฏุฑ ูุงู `.env` ุชูุธูุงุช ุฏุฑุณุช ุงุณุช

### ูุดฺฉู: ฺฉุงุฑุชโุฎูุงู ฺฉุงุฑ ููโฺฉูุฏ

**ุจุฑุง DLL Gateway:**
1. `.NET Framework` ุง `Mono` ูุตุจ ุจุงุดุฏ
2. ูุงู `pna.pcpos.dll` ุฏุฑ ฺฉูุงุฑ EXE ุจุงุดุฏ
3. ุชูุธูุงุช POS ุฏุฑ `.env` ุฏุฑุณุช ุจุงุดุฏ

**ุจุฑุง TCP Gateway:**
1. IP ู Port ฺฉุงุฑุชโุฎูุงู ุฏุฑุณุช ุจุงุดุฏ
2. ุงุชุตุงู ุดุจฺฉู ุจุฑูุฑุงุฑ ุจุงุดุฏ
3. Firewall ูพูุฑุช ุฑุง ูุณุฏูุฏ ูฺฉุฑุฏู ุจุงุดุฏ

## ุจูโุฑูุฒุฑุณุงู

ุจุฑุง ุจูโุฑูุฒุฑุณุงู:

1. ูุงูโูุง ุฌุฏุฏ ุฑุง ุงุฒ `dist` ฺฉูพ ฺฉูุฏ
2. **ูุงูโูุง ุฒุฑ ุฑุง ูฺฏู ุฏุงุฑุฏ:**
   - `.env` (ุชูุธูุงุช ุดูุง)
   - `db.sqlite3` (ุฏุชุงุจุณ)
   - `media/` (ูุงูโูุง ุขูพููุฏ ุดุฏู)
   - `logs/` (ูุงฺฏโูุง ูุจู - ุงุฎุชุงุฑ)

3. EXE ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ

## ูพุดุชุจุงู

ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุดฺฉู:
1. ูุงฺฏโูุง ุฑุง ุฏุฑ ูพูุดู `logs/` ุจุฑุฑุณ ฺฉูุฏ
2. Console output ุฑุง ุจุฑุฑุณ ฺฉูุฏ
3. ุชูุธูุงุช `.env` ุฑุง ุฏูุจุงุฑู ุจุฑุฑุณ ฺฉูุฏ

## ูฺฉุงุช ุงููุช

1. โ `SECRET_KEY` ุฑุง ุญุชูุงู ุชุบุฑ ุฏูุฏ
2. โ `DEBUG=False` ุฑุง ุจุฑุง production ุชูุธู ฺฉูุฏ
3. โ `ALLOWED_HOSTS` ุฑุง ูุญุฏูุฏ ฺฉูุฏ
4. โ ูุงู `.env` ุฑุง ุฏุฑ Git commit ูฺฉูุฏ
5. โ ุฏุณุชุฑุณ ุจู ูพูุดู ูุตุจ ุฑุง ูุญุฏูุฏ ฺฉูุฏ

